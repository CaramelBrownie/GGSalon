<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>God’s Grace Salon — My Account</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/profile.css" />
    <style>
/* --------------------------------------------------
  REIMAGINED CSS: MODERN, SALON-CHIC
  --------------------------------------------------
*/

/* General */
body {
    margin: 0;
    font-family: 'Montserrat', sans-serif; /* Modern, clean sans-serif */
    background-color: #fcf8f5; /* Very soft cream/blush background */
    color: #333333;
    line-height: 1.6;
}
a {
    text-decoration: none;
    color: inherit;
}
button {
    cursor: pointer;
    transition: all 0.3s ease;
}

/* Colors and Styles */
:root {
    --primary-color: #B48460; /* Elegant, dusty rose/soft gold */
    --secondary-color: #E6E0D5; /* Light accent */
    --danger-color: #E44F6F;
    --card-bg: #FFFFFF;
    --shadow: 0 6px 20px rgba(0, 0, 0, 0.05);
}

/* Header */
.header {
    background-color: var(--primary-color);
    color: #ffffff;
    padding: 3rem 2rem 1rem; /* More vertical padding for prominence */
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.header-title h1 {
    font-family: 'Playfair Display', serif; /* Elegant serif for the title */
    font-size: 2.2rem;
    margin: 0;
}
.header-title p {
    margin: 0.3rem 0 0;
    color: rgba(255, 255, 255, 0.9);
    font-size: 1rem;
}
.logout-btn {
    background: none;
    color: #ffffff;
    border: 1px solid rgba(255, 255, 255, 0.5);
    padding: 0.5rem 1.2rem;
    font-size: 0.9rem;
    border-radius: 50px;
    font-weight: 600;
}
.logout-btn:hover {
    background: rgba(255, 255, 255, 0.1);
}

/* Main Content Wrapper */
.main-content-wrapper {
    max-width: 1000px;
    margin: -4rem auto 2rem; /* Pulling the profile card up into the header area */
    padding: 0 1rem;
    position: relative;
    z-index: 10;
}


/* Profile Card */
.profile-card {
    display: flex;
    align-items: center;
    background: var(--card-bg);
    padding: 2rem;
    border-radius: 1rem;
    box-shadow: var(--shadow);
    margin-bottom: 2rem;
    position: relative;
    border-top: 5px solid var(--primary-color); /* Stronger accent border */
}
.profile-avatar {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    border: 3px solid var(--secondary-color);
    background-color: #faf6f3; 
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--primary-color);
    margin-right: 1.5rem;
    flex-shrink: 0;
}
.profile-info {
    flex: 1;
}
.profile-info h2 {
    margin: 0 0 0.2rem;
    font-size: 1.8rem;
    color: #222;
}
.profile-info p {
    margin: 0.3rem 0;
    color: #555;
    font-size: 0.95rem;
}
.profile-card-actions {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    display: flex;
    gap: 10px;
}
.edit-profile, .settings-btn {
    background: none;
    border: none;
    font-size: 1.1rem;
    color: #999;
    padding: 0.5rem;
    border-radius: 50%;
}
.edit-profile:hover, .settings-btn:hover {
    color: var(--primary-color);
    background-color: var(--secondary-color);
}
.member-status {
    display: inline-block;
    background-color: #fffaf0; /* Light gold background */
    color: #c0a158; /* Gold text */
    padding: 0.2rem 0.6rem;
    border-radius: 15px;
    font-size: 0.85rem;
    font-weight: 600;
    margin-top: 0.5rem;
}

/* Tabs */
.tabs-container {
    background: var(--card-bg);
    border-radius: 1rem;
    box-shadow: var(--shadow);
    padding: 0.5rem 1.5rem;
}
.tabs {
    display: flex;
    border-bottom: 1px solid #eee;
    overflow-x: auto;
    scrollbar-width: none; /* Firefox */
}
.tabs::-webkit-scrollbar {
    display: none;
}
.tab {
    padding: 1rem 1.2rem;
    cursor: pointer;
    font-weight: 600;
    white-space: nowrap;
    color: #777;
    border-bottom: 3px solid transparent;
    transition: all 0.3s ease;
}
.tab.active {
    color: var(--primary-color);
    border-bottom: 3px solid var(--primary-color);
}
.tab:hover:not(.active) {
    color: #555;
}

/* Tab Content */
.tab-content {
    padding: 2rem 0;
    display: none;
}
.tab-content.active {
    display: block;
}
.content-section {
    padding: 1rem 0;
    border-bottom: 1px dashed #eee;
}
.content-section:last-child {
    border-bottom: none;
}
.content-section h3 {
    color: var(--primary-color);
    font-size: 1.2rem;
    margin-top: 0;
}
.info-block {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0;
}
.info-block span {
    color: #555;
}

/* Profile Info Form */
.profile-form label {
    display: block;
    margin-top: 1rem;
    font-weight: 600;
    font-size: 0.9rem;
    color: #555;
}
.profile-form input,
.profile-form select,
.profile-form textarea {
    width: 100%;
    padding: 0.8rem;
    margin-top: 0.3rem;
    border-radius: 0.5rem;
    border: 1px solid #ddd;
    font-size: 1rem;
    box-sizing: border-box; /* Crucial for responsiveness */
    background-color: #fcfcfc;
}
.form-row {
    display: flex;
    gap: 20px;
}
.form-group {
    flex: 1;
}

.profile-form .save-btn {
    margin-top: 2rem;
    background: var(--primary-color);
    color: #fff;
    border: none;
    padding: 0.9rem 2rem;
    font-size: 1rem;
    border-radius: 50px;
    box-shadow: 0 4px 10px rgba(180, 132, 96, 0.4);
    font-weight: 700;
}
.profile-form .save-btn:hover {
    background: #a37554;
}
.profile-form .delete-btn {
    margin-top: 1.5rem;
    background: none;
    color: var(--danger-color);
    border: 1px solid var(--danger-color);
    padding: 0.7rem 1.5rem;
    font-size: 0.9rem;
    border-radius: 50px;
    font-weight: 600;
    display: block;
    width: fit-content;
}
.profile-form .delete-btn:hover {
    background: var(--danger-color);
    color: #fff;
}

/* Content specific styles */
.appointments-content .save-btn {
    background: var(--primary-color);
    color: #fff;
    border: none;
    padding: 0.8rem 1.5rem;
    font-size: 1rem;
    border-radius: 50px;
    margin-top: 1rem;
}

/* Responsive */
@media (max-width: 768px) {
    .header {
        padding: 2rem 1rem 1rem;
    }
    .main-content-wrapper {
        margin: -2rem auto 2rem;
    }
    .profile-card {
        flex-direction: column;
        align-items: center;
        text-align: center;
        padding: 1.5rem;
    }
    .profile-avatar {
        margin-bottom: 1rem;
        margin-right: 0;
    }
    .profile-info h2 {
        font-size: 1.5rem;
    }
    .profile-card-actions {
        top: 0.5rem;
        right: 0.5rem;
    }
    .tabs-container {
        border-radius: 0;
    }
    .tab {
        padding: 0.8rem 1rem;
    }
    .tab-content {
        padding: 1rem;
    }
    .form-row {
        flex-direction: column;
        gap: 0;
    }
}
    </style>
  </head>
  <body>
    <header class="header">
        <div class="header-title">
            <h1>My Account</h1>
            <p>Welcome back to God's Grace Salon.</p>
        </div>
        <button id="logoutBtn" class="logout-btn">
            <i class="fa-solid fa-right-from-bracket"></i> Logout
        </button>
    </header>

    <div class="main-content-wrapper">
        <section class="profile-card">
            <div class="profile-avatar">JG</div>
            <div class="profile-info">
                <h2>Hello, Jane!</h2>
                <p>jane.doe@example.com | +27 123 456 789</p>
                <div class="member-status">Gold Member — 120 points</div>
            </div>
            <div class="profile-card-actions">
                <button class="edit-profile" title="Edit Profile">&#9998;</button>
                <button class="settings-btn" title="Settings"><i class="fa-solid fa-gear"></i></button>
            </div>
        </section>

        <div class="tabs-container">
            <div class="tabs">
                <div class="tab active" data-tab="profile-info">Profile Info</div>
                <div class="tab" data-tab="appointments">Appointments</div>
                <div class="tab" data-tab="liked">Inspiration</div>
                <div class="tab" data-tab="wallet">Wallet & Payments</div>
            </div>
        
            <div id="profile-info" class="tab-content active">
                <form class="profile-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input type="text" id="name" value="Jane Doe" />
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" id="email" value="jane.doe@example.com" />
                        </div>
                    </div>

                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" value="+27 123 456 789" />
                    
                    <h3>Hair Profile (For your Stylist)</h3>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="hair-type">Hair Type</label>
                            <select id="hair-type">
                                <option>Straight</option>
                                <option>Wavy</option>
                                <option>Curly</option>
                                <option selected>Coily</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="hair-length">Hair Length</label>
                            <select id="hair-length">
                                <option>Short</option>
                                <option>Medium</option>
                                <option selected>Long</option>
                            </select>
                        </div>
                    </div>

                    <label for="allergies">Allergies / Sensitive Scalp Notes</label>
                    <textarea id="allergies" placeholder="e.g., Sensitive to sulfates, allergic to PPD dye, etc."></textarea>

                    <button type="submit" class="save-btn">Save Changes</button>
                    <button type="button" class="delete-btn">Deactivate Account</button>
                </form>
            </div>

            <div id="appointments" class="tab-content appointments-content">
                <h3>Upcoming Appointments</h3>
                <div class="content-section">
                    <p>You have no appointments scheduled for the next 30 days. Time to treat yourself!</p>
                </div>
                <button class="save-btn">Book New Appointment</button>
            </div>

            <div id="liked" class="tab-content">
                <h3>Liked Hairstyles & Looks</h3>
                <p>This is your inspiration board! Styles you've loved and saved will appear here for your next consultation.</p>
            </div>

            <div id="wallet" class="tab-content">
                <h3>Saved Payment Methods</h3>
                <p>View your saved cards, prepaid deposits, and a record of your past transactions.</p>
            </div>
        </div>
    </div> <script>
        document.addEventListener("DOMContentLoaded", () => {
            const tabs = document.querySelectorAll(".tab");
            const tabContents = document.querySelectorAll(".tab-content");

            // Function to handle tab switching
            function switchTab(targetId) {
                tabs.forEach(tab => {
                    tab.classList.remove("active");
                    if (tab.dataset.tab === targetId) {
                        tab.classList.add("active");
                    }
                });

                tabContents.forEach(content => {
                    content.classList.remove("active");
                    if (content.id === targetId) {
                        content.classList.add("active");
                    }
                });
            }

            // Add click listeners to tabs
            tabs.forEach(tab => {
                tab.addEventListener("click", () => {
                    switchTab(tab.dataset.tab);
                });
            });

            // --- Your Existing Logic Below ---

            const user = JSON.parse(localStorage.getItem("gg_logged_in"));

            if (!user) {
                // Not logged in → go to login
                window.location.href = "login.html";
            } else {
                // Avatar initials
                const avatar = document.querySelector(".profile-avatar");
                avatar.textContent = user.name
                    .split(" ")
                    .map(n => n[0])
                    .join("")
                    .toUpperCase();

                // Greeting and info
                document.querySelector(".profile-info h2").textContent = `Hello, ${user.name.split(" ")[0]}!`;
                document.querySelector(".profile-info p:nth-of-type(1)").textContent = `${user.email} | ${user.phone}`;

                // Form fields
                document.getElementById("name").value = user.name;
                document.getElementById("email").value = user.email;
                document.getElementById("phone").value = user.phone;

                // Handle save
                document.querySelector(".profile-form").addEventListener("submit", (e) => {
                    e.preventDefault();

                    const updatedUser = {
                        ...user,
                        name: document.getElementById("name").value.trim(),
                        email: document.getElementById("email").value.trim().toLowerCase(),
                        phone: document.getElementById("phone").value.trim(),
                        // Add other form fields here if you want them saved (e.g., hair type/length)
                    };

                    // Update in accounts
                    const accounts = JSON.parse(localStorage.getItem("accounts")) || [];
                    const index = accounts.findIndex(acc => acc.email === user.email);
                    if (index !== -1) {
                        accounts[index] = updatedUser;
                        localStorage.setItem("accounts", JSON.stringify(accounts));
                    }

                    // Update current session
                    localStorage.setItem("gg_logged_in", JSON.stringify(updatedUser));
                    alert("Profile updated!");
                    location.reload();
                });
                
                // Handle logout
                document.getElementById("logoutBtn").addEventListener("click", () => {
                    localStorage.removeItem("gg_logged_in");
                    window.location.href = "login.html";
                });

                // Handle delete/deactivate
                document.querySelector(".delete-btn").addEventListener("click", () => {
                    if (confirm("Are you sure you want to permanently deactivate your account? This action cannot be undone.")) {
                        let accounts = JSON.parse(localStorage.getItem("accounts")) || [];
                        accounts = accounts.filter(acc => acc.email !== user.email);
                        localStorage.setItem("accounts", JSON.stringify(accounts));
                        localStorage.removeItem("gg_logged_in");
                        alert("Account deactivated successfully. We're sorry to see you go!");
                        window.location.href = "signup.html";
                    }
                });
            }
        });
    </script>
  </body>
</html>
